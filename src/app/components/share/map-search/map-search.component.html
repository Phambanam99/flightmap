
    <div class="map-panel">
      <div *ngIf="showSearchPanel">
        <div class="lable-map">
          <div class="toggle-vessels">
            <span>Lớp {{ showVessels ? ' tàu' : 'máy bay' }}</span>
            <button class = "button-toggle" (click)="toggleShowVessels()">
              {{ !showVessels ? ' tàu' : 'máy bay' }}
            </button>
          </div>
          <mat-icon class="button-close" (click)="toggleMapSearch()">{{ 'chevron_left' }}</mat-icon>
        </div>
        <!-- Tabs or sub-sections as you wish -->
        <div class="tabs">
          <div
            class="tab-btns"
            (click)="activeTab = 'sukien'"
            [class.active]="activeTab === 'sukien'"
          >
            <button class="tab-btn" [class.active]="activeTab === 'sukien'">
              <mat-icon>event_available</mat-icon>
              <span>Sự kiện</span>
            </button>
            <div class="icon-container">
              <mat-icon>
                {{
                  activeTab === 'sukien'
                    ? 'keyboard_arrow_up'
                    : 'keyboard_arrow_down'
                }}
              </mat-icon>
            </div>
          </div>
          <div
            class="tab-btns"
            (click)="activeTab = 'tau'"
            [class.active]="activeTab === 'tau'"
            *ngIf="showVessels"
          >
            <button class="tab-btn" [class.active]="activeTab === 'tau'">
              <mat-icon>directions_boat</mat-icon>
              <span>Tàu</span>
            </button>
            <div class="icon-container">
              <mat-icon>
                {{
                  activeTab === 'tau'
                    ? 'keyboard_arrow_up'
                    : 'keyboard_arrow_down'
                }}
              </mat-icon>
            </div>
          </div>

          <!-- Example Tàu tab content, matching your screenshot -->
          <div *ngIf="activeTab === 'tau'">
            <div class="tab-content">
              <div class="section-title">Chọn bộ lọc</div>
              <select class="filter-map-search">
                <option>Tất cả tàu</option>
                <option>Tàu theo dõi</option>
                <option>Tàu từ ảnh vệ tinh</option>
                <!-- Add more options as needed -->
              </select>
              <div class="date-filter">
                <div class="section-title">Thời gian phát hiện</div>
                <div class="date-filter-input">
                  <input class="filter-map-search" type="date" />
                  <input class="filter-map-search" type="date" />
                </div>
              </div>
              <div>
                <div class="section-title">Loại tàu</div>
                <app-multi-select-dropdown
                  [options]="optionTypeOfBoats"
                ></app-multi-select-dropdown>
              </div>
              <div>
                <div class="section-title">Trạng thái hoạt động</div>
                <app-multi-select-dropdown></app-multi-select-dropdown>
              </div>

              <div class="filter-group section-title">
                <label>Tốc độ (hải lý)</label>

                <div class="date-filter-input">
                  <input
                    class="filter-map-search"
                    type="number"
                    placeholder="Thấp nhất"
                  />
                  <input
                    class="filter-map-search"
                    type="number"
                    placeholder="Cao nhất"
                  />
                </div>
              </div>

              <div>
                <div class="section-title">Quốc gia</div>
                <app-multi-select-dropdown></app-multi-select-dropdown>
              </div>

              <!-- Buttons to apply or save the filter -->
              <div class="button-row">
                <button  mat-raised-button class="btn btn-primary" (click)="applyFilter()">
                  Áp dụng
                </button>
                <button  mat-raised-button class="btn btn-primary" (click)="saveFilter()">
                  Lưu bộ lọc
                </button>

              </div>
            </div>
          </div>

          <div
            class="tab-btns"
            (click)="activeTab = 'flight'"
            [class.active]="activeTab === 'flight'"
            *ngIf="!showVessels"
          >
            <button class="tab-btn" [class.active]="activeTab === 'flight'">
              <mat-icon>flight</mat-icon>
              <span>Máy bay</span>
            </button>
            <div class="icon-container">
              <mat-icon>
                {{
                  activeTab === 'flight'
                    ? 'keyboard_arrow_up'
                    : 'keyboard_arrow_down'
                }}
              </mat-icon>
            </div>
          </div>
          <!-- Example Flight tab content, matching your screenshot -->
          <div *ngIf="activeTab === 'flight'">
            <div class="tab-content">
              <div class="section-title">Chọn bộ lọc</div>
              <select class="filter-map-search">
                <option>Tất cả máy bay</option>
                <option>Máy bay theo dõi</option>
                <option>Máy bay từ ảnh vệ tinh</option>
                <!-- Add more options as needed -->
              </select>
              <div class="date-filter">
                <div class="section-title">Thời gian phát hiện</div>
                <div class="date-filter-input">
                  <input class="filter-map-search" type="date" />
                  <input class="filter-map-search" type="date" />
                </div>
              </div>
              <div>
                <div class="section-title">Loại tàu</div>
                <app-multi-select-dropdown></app-multi-select-dropdown>
              </div>
              <div>
                <div class="section-title">Trạng thái hoạt động</div>
                <app-multi-select-dropdown></app-multi-select-dropdown>
              </div>

              <div class="filter-group section-title">
                <label>Tốc độ (hải lý)</label>

                <div class="date-filter-input">
                  <input
                    class="filter-map-search"
                    type="number"
                    placeholder="Thấp nhất"
                  />
                  <input
                    class="filter-map-search"
                    type="number"
                    placeholder="Cao nhất"
                  />
                </div>
              </div>

              <div>
                <div class="section-title">Quốc gia</div>
                <app-multi-select-dropdown></app-multi-select-dropdown>
              </div>

              <!-- Buttons to apply or save the filter -->
              <div class="button-row">
                <button  mat-raised-button class="btn btn-primary" (click)="applyFilter()">
                  Áp dụng
                </button>
                <button  mat-raised-button class="btn btn-primary" (click)="saveFilter()">
                  Lưu bộ lọc
                </button>

              </div>
            </div>
          </div>

          <!-- Add this new weather section before closing div.tabs -->
          <div
            class="tab-btns"
            (click)="activeTab = 'weather'"
            [class.active]="activeTab === 'weather'"
          >
            <button class="tab-btn" [class.active]="activeTab === 'weather'">
              <mat-icon>cloud</mat-icon>
              <span>Thời tiết</span>
            </button>
            <div class="icon-container">
              <mat-icon>
                {{
                  activeTab === 'weather'
                    ? 'keyboard_arrow_up'
                    : 'keyboard_arrow_down'
                }}
              </mat-icon>
            </div>
          </div>

          <div *ngIf="activeTab === 'weather'">
            <div class="tab-content">
              <div class="section-title">Hiển thị lớp thời tiết</div>
              <div class="weather-controls">
                <mat-radio-group
                  [(ngModel)]="selectedWeather"
                  (change)="onWeatherChange($event)"
                >
                  <mat-radio-button
                    *ngFor="let type of weatherTypes"
                    [value]="type.value"
                  >
                    {{ type.label }}
                  </mat-radio-button>
                </mat-radio-group>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

